# LightFS 使用说明

## 目录
1. [快速开始](#快速开始)
2. [命令说明](#命令说明)
3. [使用示例](#使用示例)
4. [注意事项](#注意事项)
5. [常见问题](#常见问题)

## 快速开始

### 运行文件系统
```bash
python cli.py
```
首次运行时，系统会自动初始化并创建 `light.fs` 文件。

### 基本操作流程
1. 创建文件：`create test.txt`
2. 写入内容：`write test.txt`
3. 查看内容：`cat test.txt`
4. 查看文件列表：`list`

## 命令说明

### 文件操作命令
- `create <文件名>`
  - 创建新文件
  - 文件名最长255字节
  - 不能创建同名文件

- `rename <旧文件名> <新文件名>`
  - 重命名已有文件
  - 新文件名不能与现有文件重名

- `delete <文件名>`
  - 删除指定文件
  - 删除后无法恢复

- `list`
  - 列出所有文件
  - 显示文件名、大小和创建时间

### 内容操作命令
- `cat <文件名>`
  - 显示文件内容
  - 支持文本文件查看

- `write <文件名>`
  - 写入文本到文件
  - 支持多行文本输入
  - 使用 `.end` 结束输入

### 文件导入导出
- `import <外部路径> <内部文件名>`
  - 导入外部文件到文件系统
  - 文件大小不能超过16MB

- `export <内部文件名> <外部路径>`
  - 导出文件到外部文件系统
  - 自动创建目标文件

### 系统命令
- `info`
  - 显示存储统计信息
  - 包括已用空间和空闲空间

- `help [命令名]`
  - 显示帮助信息
  - 可查看具体命令的用法

- `exit`
  - 退出文件系统

## 使用示例

### 创建和写入文件
```bash
# 创建新文件
lightfs> create test.txt

# 写入多行内容
lightfs> write test.txt
请输入文件内容（输入单独的一行 .end 结束）:
这是第一行
这是第二行
这是第三行
.end

# 查看文件内容
lightfs> cat test.txt
这是第一行
这是第二行
这是第三行
```

### 文件管理
```bash
# 查看所有文件
lightfs> list
test.txt (文件, 42 bytes, 创建于 Wed Jan 10 20:30:45 2024)

# 重命名文件
lightfs> rename test.txt new.txt

# 查看存储信息
lightfs> info
已用空间: 1.00MB
空闲空间: 199.00MB
```

### 文件导入导出
```bash
# 导入外部文件
lightfs> import /home/user/example.txt internal.txt

# 导出到外部
lightfs> export internal.txt /home/user/backup.txt
```

## 注意事项

1. 文件系统限制
   - 单个文件最大16MB
   - 文件名最长255字节
   - 总存储空间200MB

2. 数据安全
   - 不要手动修改 `light.fs` 文件
   - 正确使用 `exit` 命令退出
   - 定期备份重要文件

3. 使用建议
   - 写入文件时使用 `.end` 结束输入
   - 使用 `help` 查看命令详细用法
   - 使用 `info` 监控存储空间使用情况

## 常见问题

1. 文件创建失败
   - 检查文件名是否重复
   - 确认文件名长度未超限制
   - 验证存储空间是否充足

2. 写入失败
   - 确认文件存在
   - 检查内容大小是否超过16MB
   - 验证是否正确使用 `.end` 结束输入

3. 导入/导出问题
   - 检查外部文件路径是否正确
   - 确认文件大小是否符合限制
   - 验证目标位置是否有写入权限